<!DOCTYPE html>
<html lang="es">

<!--
HTML
web o pagina: Ejercicios Unidad 6 - Desarrollo Web Entorno Cliente
autor: Prof. Carlos Boni
fecha: Enero 2021
-->

<head>
	<title>2DAW-DWEC-UD6. Prof.Carlos Boni</title>
	<meta charset="UTF-8"/>
	<link rel="stylesheet" href="00-modelo.css"/>
	<style>
	/* aquí estilos aplicados solo a esta pagina */
	body {
		background-color: rgba(0, 0, 128, 0.1); /* Azul al 10% */
		color: black;
	}
	</style>
</head>


<body>

	<header>
	<h1>Ejercicios Unidad 6 - Desarrollo Web Entorno Cliente</h1>
	<h2>DOM HTML: acceso y manipulación con Javascript</h2>
	<h3>manejar intervalos de tiempo y repeticiones</h3>
	<br>
	</header>
	
	<main>
	<!-- bloque de contenido de la pagina -->

	  <div id="temporal">
		<h2>Sólo para rápidos</h2>
		<p>Pincha y tendrás una nueva ventana<br/>
		abierta solo durante 8 segundos (8.000 miliseg)</p>

		<br/>
		<h2>Oferta caduca en <span id="texto"></span> segundos...</h2>
		<button onclick="tuOferta()">Consigue tu HOSTING</button>
	  </div>

		
	</main>


	<!-- pie de pagina -->
	<footer>
	<br/><br/><br/>
	<div><a href="https://carlosboni.com" target="_blank">Prof. Carlos Boni</a></div>
	</footer>
	<script>
	// seccion de codigo javascript 

		// gestiona el contador de tiempo usando setInterval()
		var myVar = setInterval(cuentaAtras, 1000);
		var segs=8;

		function cuentaAtras() {
			segs=segs-1;
			document.getElementById("texto").innerHTML = segs;
			if (segs==0) {
			  //  block of code to be executed if the condition is true
			  document.getElementById("temporal").style.visibility = "hidden";
			}
		}

		// gestiona la ventana del popup con la oferta, usando setTimeout()
		function tuOferta() {
		  var miVentana = window.open("", "miVentana", "width=500, height=300");
		  miVentana.document.write("<h1>Para el más veloz solamente</h1><br/><p>GRATIS tu hosting si lo registras en menos de 8 segundos</p><br/><a href='https://www.axarnet.es'>AXARNET</a>");
		  setTimeout(function(){ miVentana.close() }, segs*1000);
		}

	</script>
</body>
</html>

