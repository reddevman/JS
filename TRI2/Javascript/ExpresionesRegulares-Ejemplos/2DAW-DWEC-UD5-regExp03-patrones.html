<!DOCTYPE html>
<html lang="es">

<!--
HTML
contenidos: 2DAW - DWEC
autor: Carlos Boni
fecha: Enero 2021
-->

<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
	<!-- importante SEO para la etiqueta del navegador -->
	<title>2DAW-DWEC-UD5 - Carlos Boni</title>
	
	<!-- una fuente de Google -->
	<link rel="preconnect" href="https://fonts.gstatic.com"/>
	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap" rel="stylesheet"/>
	
	<!-- una hoja de estilos externa-->
	
	<!-- una hoja de estilos personalizada-->
	<link href="00-modelo.css" rel="stylesheet"/>
	
	<!-- iconos u otros elementos externos -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
	
	<!-- solo aquellos estilos que solo aplican a esta pagina -->
    <style>
		body {
			background: rgba(0, 0, 128, 0.1) /* Azul al 10% */
		}
	</style>


</head>


<body>

	<!-- cabecera de pagina -->
	<header>
		<h1>Expresiones Regulares con Javascript</h1>
		<h2>Ejemplo 03: patrones</h2>
		<h3>Construcción de expresiones regulares - parte 1</h2>
		<br/>
	</header>
	
	<!-- bloque de contenido de la pagina -->
	<main>
		<p>En este primer ejemplo el usuario debe ingresar una cadena de texto de hasta 30 caracteres.
		Al enviar el formulario se indica las que se han encontrado.</p>
		<p>Los patrones disponibles en este ejemplo son:</p>
		<ul>
			<li id="c1">1. hay al menos un número </li>
			<li id="c2">2. solo números /^[0-9]+$/</li>
			<li id="c3">3. dos nombres alfabeticos separados por al menos un espacio /^[a-zA-Z]+\s+[a-zA-Z]+$/</li>
			<li id="c4">4. un DNI español válido: A-1234567) (Ejercicio opcion 1)</li>
			<li id="c5">5. Frase alfanumerica, comienzo mayusculas, posibles comas y punto final (Ejercicio opcion 2).</li>
			<li id="c6">6. Un nombre (al menos 2 palabras y maximo 4, cada una empieza con una mayuscula, separadas por al menos un espacio) (Ejercicio opcion 3).</li>
		</ul>
		<form name="entradas" action="JavaScript:buscarCoinc()">
			<label for="cadena">Texto a analizar (max. 30 caracteres):</label>
			<input type="text" id="cad" name="cadena" maxlength="30"/><br/>
			<input type="submit" value="Buscar Coincidencias"/>
		</form>
		<br/>
		<p id="respuesta" style="color:blue">(mira AQUÍ los resultados)</p>
	</main>


	<!-- pie de pagina -->
	<footer>
		<br/><br/><br/>
		<div>&copy; 2020 <a href="https://carlosboni.com" target="_blank">Prof. Carlos Boni</a></div>
	</footer>

	<script>
		// seccion de codigo javascript
		// var mensaje="";
		//var cadena = "";
		
		function buscarCoinc() {
		  
		  // cadena = document.getElementById("cad").innerHTML;
		  var buscar = ["[0-9]+", "^[0-9]+$", "^[a-zA-Z]+\\s[a-zA-Z]+$"];
		  document.getElementById("respuesta").innerHTML = '';
		  buscar.forEach(seAnaliza);
		}
		
		// usamos la función del ejercicio anterior, modificada para recibir por parámetro la cadena y el patrón a buscar
		function seAnaliza(busqueda,indice) {
		  var patron = new RegExp(busqueda);
		  var cadena = document.forms["entradas"]["cadena"].value;		  
		  var mensaje = document.getElementById("respuesta").innerHTML;		  
		  var mensaje = mensaje + "Patron " + busqueda + " (" + patron.test(cadena) + ") - Coincidencia: " + patron.exec(cadena) +"</br>";
		  alert (busqueda+" - "+ indice);
		  document.getElementById("respuesta").innerHTML = mensaje;
		}
		
	</script>
</body>
</html>